import { createContext, useContext, useMemo, useState } from 'react'

const LanguageContext = createContext(null)

const translations = {
  en: {
    nav: {
      home: 'Home',
      about: 'About',
      services: 'Services',
      projects: 'Projects',
      reviews: 'Reviews',
      contact: 'Contact Us'
    },
    hero: {
      badge: 'BN Construction',
      title: 'Build Better. Build Faster.',
      subtitle: 'Civil contractor for residential & commercial projects.',
      hint: 'Home map or complete construction - contact us today.'
    },
    cta: {
      quote: 'Get a Quote',
      whatsapp: 'WhatsApp',
      call: 'Call',
      email: 'Email Us',
      contactNow: 'Ready to Start Your Project?'
    },
    sections: {
      services: 'Our Services',
      projects: 'Recent Projects',
      address: 'Our Address',
      highlights: 'Highlights'
    },
    home: {
      servicesSubtitle: 'Complete construction solutions under one roof.',
      projectsSubtitle: 'Real work from our residential, interior, and finishing teams.',
      addressText: 'Patna Chauraha, Ravi Complex Ground Floor, Barhalganj, Gorakhpur, Uttar Pradesh (273402)',
      addressSub: 'Site visit and estimate available. Labor contracts also available.',
      highlights: [
        'Home map + complete construction',
        'Interior design + professional painting',
        'Tiles fitting + stone finishing',
        'Quality materials + on-time delivery'
      ],
      floorPlan: {
        title: '1st Floor Plan - Residential Building',
        subtitle: '4 BHK Residential Floor Plan',
        plot: 'Plot Size: 32\'-0\" x 45\'-0\"',
        roomsTitle: 'Rooms & Sizes',
        featuresTitle: 'Key Features',
        rooms: [
          'Bedroom 1: 12\'-0\" x 10\'-0\"',
          'Bedroom 2: 10\'-4\" x 12\'-0\"',
          'Bedroom 3: 12\'-0\" x 12\'-0\"',
          'Master Bedroom: 15\'-9\" x 10\'-0\"',
          'Kitchen: 5\'-0\" x 10\'-0\"',
          'Dining Area: 13\'-3\" x 16\'-4\"',
          'Attached Toilet: 5\'-0\" x 3\'-9\"',
          'Common Toilet: 6\'-7\" x 3\'-9\"',
          'Additional Toilet: 7\'-0\" x 3\'-9\"',
          'Staircase: 7\'-0\" x 14\'-6\"',
          'Front Verandah: 12\'-5\" wide',
          'Rear Verandah: 12\'-5\" wide',
          'Cabinet/Store: 3\'-4\"'
        ],
        features: [
          'Spacious 4-bedroom layout',
          'Well-ventilated rooms with proper windows',
          'Central dining area',
          'Separate kitchen space',
          'Multiple toilets for convenience',
          'Front and rear verandah for ventilation',
          'Internal staircase for upper floor access'
        ]
      },
      trustTitle: 'Why Clients Choose Us',
      trustSubtitle: 'Clear communication, reliable execution, and clean finishing.',
      trustItems: [
        { title: 'Clear Estimates', desc: 'Transparent pricing and itemized scope before we start.' },
        { title: 'Site Supervision', desc: 'Daily updates and on-site coordination by our team.' },
        { title: 'Quality Materials', desc: 'Reliable vendors and checks at each stage.' },
        { title: 'Timely Delivery', desc: 'We plan and execute to meet your timeline.' }
      ],
      processTitle: 'How We Work',
      processSubtitle: 'A simple, dependable process from visit to handover.',
      processSteps: [
        { title: 'Site Visit', desc: 'We understand your requirements and plot details.' },
        { title: 'Planning & Design', desc: 'Layout, elevation, and budget aligned before work begins.' },
        { title: 'Construction', desc: 'Skilled execution with quality checks at every stage.' },
        { title: 'Handover', desc: 'Final finishing, cleanup, and walkthrough.' }
      ],
      faqTitle: 'Frequently Asked Questions',
      faqSubtitle: 'Quick answers before you start.',
      faq: [
        { q: 'Do you provide map and elevation design?', a: 'Yes, we provide layout planning and elevation design as part of the package.' },
        { q: 'Can I get only labor contract?', a: 'Yes, labor contracts and supervision-only services are available.' },
        { q: 'Do you handle interior and painting?', a: 'Yes, interior work, tiles, and painting are available.' },
        { q: 'How to get an estimate?', a: 'Call or WhatsApp us to schedule a site visit and get a detailed estimate.' }
      ]
    },
    services: {
      list: [
        { title: 'Consulting', desc: 'Site visit, budget planning, and a clear execution roadmap.' },
        { title: 'Residential Construction', desc: 'Complete home construction with reliable quality control.' },
        { title: 'Commercial Projects', desc: 'Shops, offices, and commercial buildings delivered on time.' },
        { title: 'Architecture & Planning', desc: 'Modern layouts, elevation design, and smart space planning.' },
        { title: 'Interior & Painting', desc: 'Professional finishing with premium paint and detailing.' },
        { title: 'Structure & Shuttering', desc: 'Strong RCC structure with accurate shuttering execution.' }
      ],
      packagesTitle: 'Service Packages',
      packagesSubtitle: 'Pick the scope that fits your project and budget.',
      packages: [
        {
          title: 'Turnkey Construction',
          desc: 'End-to-end execution with material + labor.',
          features: ['Single point of contact', 'Stage-wise quality checks', 'Handover with finishing']
        },
        {
          title: 'Labor Contract',
          desc: 'Skilled labor team with site supervision.',
          features: ['Experienced masons', 'Daily supervision', 'Flexible material sourcing']
        },
        {
          title: 'Design & Planning',
          desc: 'Layout, elevation, and budget planning.',
          features: ['Map + elevation design', 'Space optimization', 'Clear budget roadmap']
        },
        {
          title: 'Interior & Finishing',
          desc: 'Tiles, paint, and interior finishing.',
          features: ['Premium paint finish', 'Tile & stone work', 'Detail-focused delivery']
        }
      ],
      promiseTitle: 'Our Service Promise',
      promiseItems: [
        'Transparent scope and estimates before work begins.',
        'Quality-first execution with reliable vendors.',
        'Clear communication and on-site supervision.',
        'Timelines agreed and tracked with you.'
      ]
    },
    projects: {
      list: [
        {
          title: 'Modern Family House',
          description: 'Complete home construction with elevation and finishing.',
          caption: 'RCC structure + elevation work',
          tag: 'Residential'
        },
        {
          title: 'Interior & Paint',
          description: 'Interior finishing with premium paint and lighting.',
          caption: 'Wardrobe + ceiling + lighting finish',
          tag: 'Interior'
        },
        {
          title: 'Tiles & Stone Work',
          description: 'Durable flooring and elegant stone finishing.',
          caption: 'Precision tile alignment + leveling',
          tag: 'Finishing'
        },
        {
          title: 'Shop + Office Build',
          description: 'Commercial structure with strong RCC and clean layout.',
          caption: 'Scaffolding + exterior finishing',
          tag: 'Commercial'
        }
      ]
    },
    contact: {
      title: 'Contact Us',
      subtitle: 'Get in touch for home design, construction, or interior work.',
      messageTitle: 'Send a Message',
      name: 'Name',
      email: 'Email',
      phone: 'Phone',
      subject: 'Subject',
      message: 'Message',
      send: 'Send Message',
      servicesTitle: 'Services',
      servicesText: 'Home design, interiors, painting, tiles, and complete construction.',
      servicesSub: 'Site visit and labor contracts available.',
      hoursTitle: 'Hours',
      mapTitle: 'Visit Our Office',
      mapSubtitle: 'Find us in Barhalganj, Gorakhpur.',
      responseNote: 'We usually respond within the same business day.',
      formNote: 'Submitting will open WhatsApp with your details. If blocked, we will open your email app.'
    },
    about: {
      title: 'About BN Construction',
      subtitle: 'Er. Bijendra Nishad - Civil Contractor, Building Construction & Design',
      workTitle: 'Our Work',
      why: 'Why Choose Us',
      cta: 'Ready to Build?',
      introTitle: 'Local Expertise. Modern Execution.',
      introBody: 'We deliver end-to-end construction and design for residential and commercial projects in Gorakhpur. From layout planning to finishing, we focus on quality materials, clear communication, and on-time delivery.',
      stats: [
        { title: 'End-to-End Delivery', desc: 'Planning, construction, and finishing handled in-house.' },
        { title: 'Site Supervision', desc: 'Daily oversight to keep quality and timelines on track.' },
        { title: 'Detail Finishing', desc: 'Clean interiors, tiles, and paint with precise execution.' }
      ],
      highlights: [
        { title: 'Design & Planning', desc: 'Home map, elevation, and smart layout planning.' },
        { title: 'Complete Construction', desc: 'From foundation to finishing with strong execution.' },
        { title: 'Interior & Painting', desc: 'Modern interiors with premium paint finishing.' },
        { title: 'Tiles & Stone Work', desc: 'Flooring, tile fitment, and stone finishing.' },
        { title: 'Trusted Process', desc: 'Clear communication and on-time delivery.' },
        { title: 'Quality Focus', desc: 'Materials and finishing with no compromise.' }
      ],
      pillarsTitle: 'Our Core Pillars',
      pillarsSubtitle: 'The standards we follow on every site.',
      pillars: [
        { title: 'Transparent Scope', desc: 'Clear estimates and documented deliverables.' },
        { title: 'Reliable Teams', desc: 'Experienced contractors and skilled labor.' },
        { title: 'Quality Materials', desc: 'Trusted vendors and stage-wise checks.' },
        { title: 'Client Updates', desc: 'Regular communication with photo updates.' }
      ],
      capabilitiesTitle: 'Capabilities',
      capabilities: [
        'Residential and commercial construction',
        'Map, elevation, and structural planning',
        'Interior, painting, tiles, and stone work',
        'Turnkey execution or labor contract'
      ],
      ctaTitle: 'Start Your Project With Us',
      ctaSubtitle: 'Get a free site visit and an estimate tailored to your plan.'
    },
    testimonials: {
      title: 'Client Reviews',
      subtitle: 'Quality, timing, and trusted delivery',
      cta: 'Start Your Project'
    },
    labels: {
      callUs: 'Call Us',
      whatsapp: 'WhatsApp',
      email: 'Email',
      getDirections: 'Get Directions'
    }
  },
  hi: {
    nav: {
      home: '???',
      about: '????? ???? ???',
      services: '??????',
      projects: '???????????',
      reviews: '??????',
      contact: '?????? ????'
    },
    hero: {
      badge: 'BN Construction',
      title: '????? ???????. ???? ???????.',
      subtitle: '??????????? ?? ???????? ??????????? ?? ??? ????????? ????????????.',
      hint: '?? ?? ????? ?? ???? ??????????? - ?? ?? ?????? ?????'
    },
    cta: {
      quote: '?????? ???',
      whatsapp: '?????????',
      call: '??? ????',
      email: '???? ????',
      contactNow: '????????? ???? ?????'
    },
    sections: {
      services: '????? ??????',
      projects: '??? ?? ???????????',
      address: '????? ???',
      highlights: '????? ?????'
    },
    home: {
      servicesSubtitle: '??????????? ?? ??? ?????? ?? ?? ???.',
      projectsSubtitle: '???????????, ???????? ?? ???????? ?? ???????? ???.',
      addressText: '???? ??????, ??? ??????????? ??????? ?????, ???????, ???????, ????? ?????? (273402)',
      addressSub: '???? ?????? ?? ?????? ??????. ???? ??????????? ???',
      highlights: [
        '?? ?? ????? + ???? ???????????',
        '???????? ?????? + ????????? ???????',
        '?????? ?????? + ????? ????????',
        '???????? ??????? + ??? ?? ???????'
      ],
      floorPlan: {
        title: '1st Floor Plan - Residential Building',
        subtitle: '4 BHK Residential Floor Plan',
        plot: 'Plot Size: 32\'-0\" x 45\'-0\"',
        roomsTitle: 'Rooms & Sizes',
        featuresTitle: 'Key Features',
        rooms: [
          'Bedroom 1: 12\'-0\" x 10\'-0\"',
          'Bedroom 2: 10\'-4\" x 12\'-0\"',
          'Bedroom 3: 12\'-0\" x 12\'-0\"',
          'Master Bedroom: 15\'-9\" x 10\'-0\"',
          'Kitchen: 5\'-0\" x 10\'-0\"',
          'Dining Area: 13\'-3\" x 16\'-4\"',
          'Attached Toilet: 5\'-0\" x 3\'-9\"',
          'Common Toilet: 6\'-7\" x 3\'-9\"',
          'Additional Toilet: 7\'-0\" x 3\'-9\"',
          'Staircase: 7\'-0\" x 14\'-6\"',
          'Front Verandah: 12\'-5\" wide',
          'Rear Verandah: 12\'-5\" wide',
          'Cabinet/Store: 3\'-4\"'
        ],
        features: [
          'Spacious 4-bedroom layout',
          'Well-ventilated rooms with proper windows',
          'Central dining area',
          'Separate kitchen space',
          'Multiple toilets for convenience',
          'Front and rear verandah for ventilation',
          'Internal staircase for upper floor access'
        ]
      },
      trustTitle: '??????? ???? ????? ????? ???',
      trustSubtitle: '?????? ???????????, ???????? ??? ?? ??? ?????????',
      trustItems: [
        { title: '?????? ??????', desc: '??? ???? ???? ?? ???? ???? ????? ?? ???? ?????? ???? ????' },
        { title: '???? ????????', desc: '??? ?????? ?????? ????? ?? ??-???? ??????????' },
        { title: '???????? ???????', desc: '????????? ????? ?? ?? ????? ?? ?????' },
        { title: '??? ?? ???????', desc: '???????? ?? ????? ?? ???????? ?? ????????????' }
      ],
      processTitle: '?? ???? ??? ???? ???',
      processSubtitle: '???? ?????? ?? ??????? ?? ?? ??? ??????????',
      processSteps: [
        { title: '???? ??????', desc: '???? ??????? ?? ????? ??????? ????? ????' },
        { title: '???????? ?? ??????', desc: '?????, ??????? ?? ??? ???? ?? ???? ????' },
        { title: '???????????', desc: '?? ????? ?? ???????? ??? ?? ??? ????' },
        { title: '???????', desc: '????? ????????, ??????? ?? ????????' }
      ],
      faqTitle: '??????? ????',
      faqSubtitle: '???? ???? ?? ???? ??? ????? ?????',
      faq: [
        { q: '???? ?? ??? ?? ??????? ?????? ???? ????', a: '???, ?? ????? ???????? ?? ??????? ?????? ?????? ???? ????' },
        { q: '???? ????? ???? ??????????? ??? ???? ???', a: '???, ???? ??????????? ?? ???????? ?????? ?????? ????' },
        { q: '???? ???????? ?? ??????? ???? ????', a: '???, ????????, ?????? ?? ??????? ?????? ????' },
        { q: '?????? ???? ???????', a: '??? ?? ????????? ???? ???? ?????? ??? ?????' }
      ]
    },
    services: {
      list: [
        { title: '?????????', desc: '???? ??????, ??? ???????? ?? ?????? ??????.' },
        { title: '??????????? ???????????', desc: '?? ?? ???? ??????? ?? ???????? ???????.' },
        { title: '???????? ???????????', desc: '?????, ???? ?? ???????? ???????.' },
        { title: '??????????? ? ????????', desc: '?????, ??????? ?? ????? ????????.' },
        { title: '???????? ?? ???????', desc: '???????? ???????? ?? ????????.' },
        { title: '????????? ? ??????', desc: '????? RCC ????????? ?? ???? ??????.' }
      ],
      packagesTitle: '?????? ?????',
      packagesSubtitle: '???? ??? ?? ????? ?? ?????? ????? ??????',
      packages: [
        {
          title: '?????? ???????????',
          desc: '??????? + ???? ???? ???? ????',
          features: ['????? ????? ?? ?????????', '????? ???? ???????? ???', '???????? ?? ??? ???????']
        },
        {
          title: '???? ???????????',
          desc: '??????? ???? ??? ?? ?????????',
          features: ['?????? ??????', '???? ????????', '??????? ??? ???????']
        },
        {
          title: '??????? ?? ????????',
          desc: '?????, ??????? ?? ??? ?????????',
          features: ['??? + ???????', '????? ????????????', '?????? ??? ??????']
        },
        {
          title: '???????? ?? ????????',
          desc: '??????, ???? ?? ?????????',
          features: ['???????? ???? ?????', '?????? + ????? ????', '????? ?????? ???????']
        }
      ],
      promiseTitle: '????? ?????? ????',
      promiseItems: [
        '??? ???? ???? ?? ???? ????? ?? ?????? ???????',
        '????????-?????? ??????????? ?? ???????? ??????',
        '?????? ??????????? ?? ???? ?????????',
        '???????? ???? ??? ????? ????? ?? ???? ???'
      ]
    },
    projects: {
      list: [
        {
          title: '?????? ?????? ????',
          description: '??????? ?? ???????? ???? ???? ???????.',
          caption: 'RCC ????????? + ???????',
          tag: '???????????'
        },
        {
          title: '???????? + ????',
          description: '???????? ???? ?? ??????? ?????.',
          caption: '???????? + ?????? + ???????',
          tag: '????????'
        },
        {
          title: '?????? + ?????',
          description: '????? ???????? ?? ????? ????????.',
          caption: '???? ???? ?????????',
          tag: '????????'
        },
        {
          title: '??? + ???? ?????',
          description: '????? RCC ?? ????? ?????.',
          caption: '???????????? + ?????????? ?????',
          tag: '????????'
        }
      ]
    },
    contact: {
      title: '?????? ????',
      subtitle: '??? ??????, ??????????? ?? ???????? ?? ??? ?????? ?????',
      messageTitle: '????? ?????',
      name: '???',
      email: '????',
      phone: '???',
      subject: '????',
      message: '?????',
      send: '?????',
      servicesTitle: '??????',
      servicesText: '??? ??????, ????????, ???????, ?????? ?? ???? ????????????',
      servicesSub: '???? ?????? ?? ???? ??????????? ???????',
      hoursTitle: '???',
      mapTitle: '????? ????',
      mapSubtitle: '???????, ??????? ??? ?????? ?????',
      responseNote: '?? ????? ?? ??? ??? ???? ???? ????',
      formNote: '????? ???? ?? ???? ????? WhatsApp ??? ??????? ??? ????? ??, ?? ???? ???????'
    },
    about: {
      title: 'BN Construction ?? ???? ???',
      subtitle: 'Er. Bijendra Nishad - Civil Contractor, Building Construction & Design',
      workTitle: '????? ???',
      why: '???? ????? ?????',
      cta: '???? ????',
      introTitle: '???? ??????????. ?????? ???????????.',
      introBody: '?? ??????? ??? ??????????? ?? ???????? ??????????? ?? ??? ???-??-??? ??????????? ?? ?????? ?????? ???? ???? ???????? ?? ???????? ?? ????????, ??????????? ?? ??? ?? ??????? ?? ???? ???? ???',
      stats: [
        { title: '???-??-??? ???????', desc: '????????, ??????????? ?? ???????? ?? ?? ??? ???' },
        { title: '???? ????????', desc: '???????? ?? ???????? ????? ???? ?? ??? ???? ?????????' },
        { title: '????? ????????', desc: '????????, ?????? ?? ???? ??? ??? ????' }
      ],
      highlights: [
        { title: '??????? ?? ????????', desc: '?? ?? ?????, ??????? ?? ??????? ????? ?????????' },
        { title: '???????? ???????????', desc: '???????? ?? ???????? ?? ????? ????' },
        { title: '???????? ?? ???????', desc: '?????? ???????? ?? ???????? ???? ??????' },
        { title: '?????? ?? ????? ????', desc: '????????, ???? ??????? ?? ????? ??????' },
        { title: '???????? ?????????', desc: '?????? ??????????? ?? ??? ?? ????????' },
        { title: '???????? ????', desc: '??????? ?? ???????? ??? ??? ?????? ?????' }
      ],
      pillarsTitle: '????? ????? ????????',
      pillarsSubtitle: '?? ???? ?? ??? ???? ????? ???? ????',
      pillars: [
        { title: '?????? ?????', desc: '?????? ?????? ?? ???????????? ?????????????' },
        { title: '???????? ???', desc: '?????? ???????????? ?? ??????? ?????' },
        { title: '???????? ???????', desc: '???????? ????? ?? ????? ???? ????' },
        { title: '??????? ?????', desc: '?????? ??????????? ?? ???? ??????' }
      ],
      capabilitiesTitle: '????????????',
      capabilities: [
        '??????????? ?? ???????? ???????????',
        '???, ??????? ?? ????????? ????????',
        '????????, ???????, ?????? ?? ????? ????',
        '?????? ??????????? ?? ???? ???????????'
      ],
      ctaTitle: '???? ????????? ?? ?????? ????',
      ctaSubtitle: '???? ???? ?????? ?? ?????? ?? ??? ?????? ?????'
    },
    testimonials: {
      title: '?????? ??????',
      subtitle: '????????, ??? ?? ?????',
      cta: '????????? ???? ????'
    },
    labels: {
      callUs: '??? ????',
      whatsapp: '?????????',
      email: '????',
      getDirections: '??? ?????'
    }
  }
}

export function LanguageProvider({ children }) {
  const stored = typeof window !== 'undefined' ? localStorage.getItem('bn_lang') : null
  const [lang, setLang] = useState(stored || 'en')

  const value = useMemo(() => ({
    lang,
    setLang: (next) => {
      setLang(next)
      if (typeof window !== 'undefined') {
        localStorage.setItem('bn_lang', next)
      }
    },
    t: (key) => {
      const keys = key.split('.')
      let current = translations[lang]
      for (const k of keys) {
        current = current?.[k]
      }
      return current ?? key
    },
    translations
  }), [lang])

  return (
    <LanguageContext.Provider value={value}>
      {children}
    </LanguageContext.Provider>
  )
}

export function useLang() {
  const ctx = useContext(LanguageContext)
  if (!ctx) {
    throw new Error('useLang must be used within LanguageProvider')
  }
  return ctx
}